The audited project represents an options market built on top of Uniswap V3 pools. The integration is possible due to how Uniswap V3 positions are handled when created outside of the current price: such positions are made of only either of the pool assets until the position's range is crossed by the price. When a position is crossed, it's asset is swapped for the another asset, which acts as turning an options contract from ITM (in-the-money) to OTM (out-of-the-money), or vise versa.
At the lowest level, there's `TokenisableRange` contract. Each instance of the contract is tied to a specific Uniswap V3 position. Users are able to deposit and withdraw funds via the contract, and earn fees while holding their funds deposited.
`RangeManager` is a contract that allows its owner to manage `TokenisableRange` contract instances. Specifically, the contract allows the owner to deploy positions around the current price, to form an options market.
`GeVault` is a contract that lets liquidity providers deposit tokens in an options market. An options market is made of a set of `TokenisableRange` contracts, thus provided liquidity goes into Uniswap V3 pools managed by underlying `TokenisableRange` contracts. An important mechanism of the contract is rebalancing, which removes liquidity from all positions and re-distributes them equally. Rebalancing can be triggered at any time, and it's also done automatically when funds are deposited or withdrawn.
`GeVault` also tightly integrates with a lending pool (a fork of Aave, out of scope of this audit) as a central storage of assets. All liquidity deposited via `GeVault` is converted to LP tokens (issued when depositing to `TokenisableRange` contracts) and wrapped into aToken by depositing the LP tokens into the lending pool.
`OptionsPositionManager` lets users buy, sell, and manage options. The contract tightly integrates with the lending pool, which gives it access to the liquidity deposited to the `GeVault` contract. To sell options, users need to deposit tokens into the lending pool and call the `sellOptions()` function, which withdraws the tokens and deposits them into a `TokenisableRange` contract; the minted LP tokens are then deposited into the lending pool. To buy options, users need to provide a collateral to the lending pool and call the `buyOptions()` function, which flash-loans aTokens and withdraws them from the lending pool and the `TokenisableRange` contract, sending asset tokens to the user. Users can close their options by repaying their borrowed debt (partially or fully) at any time. Users who don't repay their debt in time can be liquidated.


When integrating with Uniswap V3, its critical to correctly compute the TVL of the protocol, given that Uniswap pool prices can be manipulated. To solve this, the protocol also integrates with Chainlink to get reference market prices. While this helps to prevent big price manipulations, there's also a difference between Uniswap V3 pool prices and Chainlink prices. When market volatility is low, the difference is also low, however in highly volatile markets the difference can be bigger. Thus, the TVL of the protocol and the computations of position reserves can be affected by the difference, causing minor fluctuations in related functions. E.g., functions that use Chainlink prices instead of pool prices (e.g. `TokenisableRange.returnExpectedBalanceWithoutFees()`) can be impacted in such situations, returning balances that are slightly off from those that would be returned by burning liquidity.

Another important aspect when integrating with Uniswap is the slippage tolerance check. In the audited codebase, slippage allowances are computed on-chain, which makes related operations subject to price manipulations. In all cases when applicable, it's recommended to receive minimal token amounts from the caller, as a function argument.

The audited project poses a low centralization risk for users. The majority of user scenarios don't allow an intervention of a privileged role. Funds deposited by users can only be withdrawn by them. The only exception is the `GeVault` contract that allows its owner to disable depositing; withdrawals, however, remain available.

### Time spent:
30 hours